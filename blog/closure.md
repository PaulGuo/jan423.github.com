# 闭包 Closure

我一直认为闭包是一种函数。但是这个效果为什么叫closure（闭包），我一直很纳闷。

> 函数对象可以通过作用域链相互关联起来，函数体内部的变量可以保存在函数体内，这种特型在计算机科学文献里称为“闭包”.

> -------javascript权威指南 P182 闭包

## 函数的作用域

有些语言（如：Java）的函数调用过程中局部变量保存在一个栈中，当function 执行完return后栈中的变量就销毁了。

但是javascript的function在执行过程中局部变量是保存在一个**对象**中的，不是在**栈**这种数据结构中。正是因为变量保存在一个对象中才造成了闭包这个效果。

## javascript的作用域链
每段代码都有在**执行**时期会创建一个叫作用域链的链表对象，注意哦它是一个对象，然后这个对象会被这个作用域中的特殊内部属性[[scope]]引用。并且那个局部变量对象会发在那个作用域链的链表对象第一位，所以查找变量时会第一时刻从第一位的局部变量对象中找。

一般情况下函数执行完后GC发现那个保存局部变量的对象没有被引用就回收了。但是如果这个对象被引用了那么就可以发生一些奇特的事。

	function father(){
		return function(){
			
		}
	}

###局部变量对象的组成

this arguments 变量